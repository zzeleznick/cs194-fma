---
layout: post
title: Context-Aware Image Resizing
subtitle: Seam Removal, Seam Insertion and More
images: site.images
---


h3(anchor#main). %(octicon octicon-link)I. Introduction%

In this part of the excercise, we used an unsharp mask in attempt to sharpen a blurry images. I used a blurred version of the Grand Canyon as the base and added a scaled high-frequency version of the image to sharpen the picture details.

<h3 class="center"> Seam Removal on Stonehenge </h3>
<div class="pure-g">
{% for image in site.p4_stonehenge limit: 2 offset:0%}
    <div class="pure-u-1-2 pure-u-md-1-2 center"> !{{ site.github_path | escape  }}{{site.p4_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}{{image.ref}}</div>
{% endfor %}
</div>
<div class="pure-g">
{% for image in site.p4_stonehenge limit: 2 offset:0%}
    <div style="background-color: initial; " class="pure-u-1-2 pure-u-md-1-2 center">
    {{image.title}} <br>
    </div>
{% endfor %}
</div> <br>


<div class="pure-g">
{% for image in site.p4_stonehenge limit: 2 offset:2%}
    <div class="pure-u-1-2 pure-u-md-1-2 center"> !{{ site.github_path | escape  }}{{site.p4_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}{{image.ref}}</div>
{% endfor %}
</div>
<div class="pure-g">
{% for image in site.p4_stonehenge limit: 2 offset:2%}
    <div style="background-color: initial; " class="pure-u-1-2 pure-u-md-1-2 center">
    {{image.title}} <br>
    </div>
{% endfor %}
</div> <br>
<div class="pure-g">
{% for image in site.p4_stonehenge limit: 2 offset:4%}
    <div class="pure-u-1-2 pure-u-md-1-2 center"> !{{ site.github_path | escape  }}{{site.p4_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}{{image.ref}}</div>
{% endfor %}
</div>
<div class="pure-g">
{% for image in site.p4_stonehenge limit: 2 offset:4%}
    <div style="background-color: initial; " class="pure-u-1-2 pure-u-md-1-2 center">
    {{image.title}} <br>
    </div>
{% endfor %}
</div> <br>
<div class="pure-g">
{% for image in site.p4_stonehenge limit: 2 offset:6%}
    <div class="pure-u-1-2 pure-u-md-1-2 center"> !{{ site.github_path | escape  }}{{site.p4_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}{{image.ref}}</div>
{% endfor %}
</div>
<div class="pure-g">
{% for image in site.p4_stonehenge limit: 2 offset:6%}
    <div style="background-color: initial; " class="pure-u-1-2 pure-u-md-1-2 center">
    {{image.title}} <br>
    </div>
{% endfor %}
</div> <br>



<div class="pure-g">
{% for image in site.p4_stonehenge limit: 2 offset:8%}
    <div class="pure-u-1-2 pure-u-md-1-2 center"> !{{ site.github_path | escape  }}{{site.p4_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}{{image.ref}}</div>
{% endfor %}
</div>

<div class="pure-g">
{% for image in site.p4_stonehenge limit: 2 offset:8%}
    <div class="pure-u-1-2 pure-u-md-1-2 center"> !{{ site.github_path | escape  }}{{site.p4_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}{{image.ref}}</div>
{% endfor %}
</div>

<h3 class="center"> Seam Removal on Stonehenge Lightning Shot </h3>

<div class="pure-g">
{% for image in site.p4_stonehenge_lightning limit: 2 offset:0%}
    <div class="pure-u-1-2 pure-u-md-1-2 center"> !{{ site.github_path | escape  }}{{site.p4_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}{{image.ref}}</div>
{% endfor %}
</div>
<div class="pure-g">
{% for image in site.p4_stonehenge_lightning limit: 2 offset:0%}
    <div style="background-color: initial; " class="pure-u-1-2 pure-u-md-1-2 center">
    {{image.title}} <br>
    </div>
{% endfor %}
</div> <br>
<div class="pure-g">
{% for image in site.p4_stonehenge_lightning limit: 3 offset:2%}
    <div class="pure-u-1-3 pure-u-md-1-3 center"> !{{ site.github_path | escape  }}{{site.p4_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}{{image.ref}}</div>
{% endfor %}
</div>
<div class="pure-g">
{% for image in site.p4_stonehenge_lightning limit: 3 offset:2%}
    <div style="background-color: initial; " class="pure-u-1-3 pure-u-md-1-3 center">
    {{image.title}} <br>
    </div>
{% endfor %}
</div> <br>

<h3 class="center"> Seam Removal on Stonehenge at Night </h3>

<div class="pure-g">
{% for image in site.p4_stonehenge_night limit: 2 offset:0%}
    <div class="pure-u-1-2 pure-u-md-1-2 center"> !{{ site.github_path | escape  }}{{site.p4_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}{{image.ref}}</div>
{% endfor %}
</div>
<div class="pure-g">
{% for image in site.p4_stonehenge_night limit: 2 offset:0%}
    <div style="background-color: initial; " class="pure-u-1-2 pure-u-md-1-2 center">
    {{image.title}} <br>
    </div>
{% endfor %}
</div> <br>
<div class="pure-g">
{% for image in site.p4_stonehenge_night limit: 1 offset:2%}
    <div class="pure-u-1-1 pure-u-md-1-1 center"> !{{ site.github_path | escape  }}{{site.p4_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}{{image.ref}}</div>
{% endfor %}
</div>
<div class="pure-g">
{% for image in site.p4_stonehenge_night limit: 1 offset:2%}
    <div style="background-color: initial; " class="pure-u-1-1 pure-u-md-1-1 center">
    {{image.title}} <br>
    </div>
{% endfor %}
</div> <br>


<h3 class="center"> Seam Removal on Starry Night </h3>

<div class="pure-g">
<div class="pure-u-1-2 pure-u-md-1-2 no-vspace">
!{{ site.github_path | escape  }}{{site.p4_path}}originals/staryNight.jpg('Starry Night Original')!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}originals/staryNight.jpg
!{{ site.github_path | escape  }}{{site.p4_path}}baseExamples/staryNight/100h_seams_remove_staryNight.jpg('Starry Night Original')!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}baseExamples/staryNight/100h_seams_remove_staryNight.jpg
</div>
<div class="pure-u-1-2 pure-u-md-1-2 no-vspace">
!{{ site.github_path | escape  }}{{site.p4_path}}baseExamples/staryNight/scharr_100__0_staryNight.jpg('100 Horizontal Seam Removal')!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}baseExamples/staryNight/scharr_100__0_staryNight.jpg
!{{ site.github_path | escape  }}{{site.p4_path}}baseExamples/staryNight/scharr_200__0_staryNight.jpg('200 Horizontal Seam Removal')!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}baseExamples/staryNight/scharr_200__0_staryNight.jpg
!{{ site.github_path | escape  }}{{site.p4_path}}baseExamples/staryNight/sobel_450__0_staryNight.jpg('455 Horizontal Seam Removal')!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}baseExamples/staryNight/sobel_450__0_staryNight.jpg
</div>
</div> <br>

<h3 class="center"> Seam Removal & Seam Insertion[1] on my Homeowork </h3>

<div class="pure-g">
{% for image in site.p4_hw limit: 2 offset:0%}
    <div class="pure-u-1-2 pure-u-md-1-2 center"> !{{ site.github_path | escape  }}{{site.p4_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}{{image.ref}}</div>
{% endfor %}
</div>
<div class="pure-g">
{% for image in site.p4_hw limit: 2 offset:0%}
    <div style="background-color: initial; " class="pure-u-1-2 pure-u-md-1-2 center">
    {{image.title}} <br>
    </div>
{% endfor %}
</div><br>
<div class="pure-g">
{% for image in site.p4_hw limit: 2 offset: 2%}
    <div class="pure-u-1-2 pure-u-md-1-2 center"> !{{ site.github_path | escape  }}{{site.p4_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}{{image.ref}}</div>
{% endfor %}
</div>
<div class="pure-g">
{% for image in site.p4_hw limit: 2 offset:2%}
    <div style="background-color: initial; " class="pure-u-1-2 pure-u-md-1-2 center">
    {{image.title}} <br>
    </div>
{% endfor %}
</div> <br>

<div class="pure-g">
<div class="pure-u-2-3 pure-u-md-2-3 no-vspace">
!{{ site.github_path | escape  }}{{site.p4_path}}baseExamples/hw/scharr_0__-200_homework.jpg('200 Vertical Seams Inserted')!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}baseExamples/hw/scharr_0__-200_homework.jpg
</div>
<div class="pure-u-1-3 pure-u-md-1-3 no-vspace">
!{{ site.github_path | escape  }}{{site.p4_path}}baseExamples/hw/scharr_0__200_homework.jpg('200 Vertical Seams Removed')!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}baseExamples/hw/scharr_0__200_homework.jpg
</div>
</div>
<div class="pure-g">
<div class="pure-u-2-3 pure-u-md-2-3 center">
    200 Vertical Seams Added <br>
</div>
<div class="pure-u-1-3 pure-u-md-1-3 center">
    200 Vertical Seams Removed<br>
</div>
</div> <br>


<h4 class='center'> An Engaging Scene Showcasing Seam Insertion, Seam Removal, & Spice </h4>

<div class="pure-g">
<div class="pure-u-1-2 pure-u-md-1 center">
!{{ site.github_path | escape  }}{{site.p4_path}}popArt/popArtCollage2.jpg('Pop Art Collage')!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}popArt/popArtCollage2.jpg
</div>
<div class="pure-u-1-2 pure-u-md-1 center">
!{{ site.github_path | escape  }}{{site.p4_path}}popArt/popArtCollage.jpg('Pop Art Collage')!:http://zzeleznick.github.io/cs194-fma/{{site.p4_path}}popArt/popArtCollage.jpg
</div>
</div>


As you can see this method is less than ideal, since the images become more grainy and lose some saturation in tradeoff for the increased sharpness.

h3(anchor#approach). %(octicon octicon-link)II. Hybrid Images%

Combining two images that can be perceived from one picture is no easy feat, but with our enhanced understanding of lowpass and highpass filtering, our limits of creativity are now only bounded by image alignment.



<h4 class='center'> Optical Illusion Gaussian & Laplacian Stack </h4>



h3(anchor#learnedlessons1). IV. Multiresolution Blending

Now that we have seen Gaussian and Laplacian Stacks in action, we can now use masks and blend two composite images together. The first mask I implemented was a trivial blend using a vertical seam and a sum of each levels along the laplacian pyramids between each image[1]. Next, I created my own mask, which I then mapped to a Gaussian stack and repeated the process.

<pre><code>Step la. Build Laplacian pyramids LA and LB for images A and B respectively.
Step lb. Build a Gaussian pyramid GR for the region image R.
Step 2. Form a combined pyramid LS from LA and LB using nodes of GR as weights.
        For each l, i, j:
                 LSl(i, j) = GRl(i, j)LAl(i, j) + (1 - GRl(i, j))LBl(i, j).
Step 3. Obtain the splined image S by expanding and summing the levels of LS.
</code></pre>

<h4 class='center'> Pope at the Beach </h4>

<br>

<h4 class='center'> Failure Case: Zach on Mars </h4>
<div class="pure-g">
{% for image in site.p3_mask_images limit: 4 offset:9%}
    <div class="pure-u-1-4 pure-u-md-1-4 center">
    {{image.title}}
    !{{ site.github_path | escape  }}{{site.p3_path}}{{image.ref}}({{image.title}})!:http://zzeleznick.github.io/cs194-fma/{{site.p3_path}}{{image.ref}}
    </div>
{% endfor %}
</div>

Color was challenging to blend, and in the case of my image on Mars, the results were less attractive due to the variation in color patterns.

fn1. Note about seam insertion

- Zachary Zeleznick